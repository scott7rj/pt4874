DROP TABLE MENU_ITEM_MENU
/
DROP TABLE ITEM_MENU
/
DROP TABLE MENU
/
CREATE TABLE "MENU"
(
  "ID" NUMBER(4,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 ORDER  NOCYCLE NOT NULL ENABLE,
  "DESCRIPTION" VARCHAR2(50) NOT NULL ENABLE,
  "ORDER" NUMBER(4,0) DEFAULT 0,
  "ACTIVE" CHAR(1) DEFAULT 'Y',
   CONSTRAINT "MENU_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE
)
/
CREATE TABLE "ITEM_MENU"
(
  "ID" NUMBER(4,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 ORDER  NOCYCLE NOT NULL ENABLE,
  "DESCRIPTION" VARCHAR2(50) NOT NULL ENABLE,
  "ORDER" NUMBER(4,0) DEFAULT 0,
  "ACTIVE" CHAR(1) DEFAULT 'Y',
  "ID_PARENT" NUMBER(4,0) NOT NULL ENABLE,
   CONSTRAINT "ITEM_MENU_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE
)
/
ALTER TABLE  "ITEM_MENU" ADD CONSTRAINT "ITEM_MENU_FK" FOREIGN KEY ("ID_PARENT") REFERENCES  "ITEM_MENU" ("ID_PARENT") ENABLE
/
CREATE TABLE "MENU_ITEM_MENU"
(
  "ID_MENU" NUMBER(4,0) NOT NULL ENABLE,
  "ID_ITEM_MENU" NUMBER(4,0) NOT NULL ENABLE
   CONSTRAINT "MENU_ITEM_MENU_PK" PRIMARY KEY ("ID_MENU","ID_ITEM_MENU")
  USING INDEX  ENABLE
)
/
ALTER TABLE  "MENU_ITEM_MENU" ADD CONSTRAINT "MENU_ITEM_MENU_M_FK" FOREIGN KEY ("ID_MENU") REFERENCES  "MENU" ("ID") ENABLE
/
ALTER TABLE  "MENU_ITEM_MENU" ADD CONSTRAINT "MENU_ITEM_MENU_I_FK" FOREIGN KEY ("ID_ITEM_MENU") REFERENCES  "ITEM_MENU" ("ID") ENABLE
/
INSERT INTO MENU(DESCRIPTION, "ORDER") VALUES('CONTA/CONTRATO',1)
/
